var PUMNewsletter;(function(a){PUMNewsletter={submit:function(b){var c={action:"pum_sub_form_submit",sub_data:b.serialize()};b.find(".sub_form_button").prop("disabled",true);b.addClass("pum-sub-form-loading");b.prepend('<span class="spinner-loader">Loadingâ€¦</span>');a.ajax({url:pum_sub_ajax_object.ajaxurl,type:"POST",dataType:"json",data:c}).done(function(d){PUMNewsletter.response(b,d)}).fail(function(d,f,e){console.log("Error: type of "+f+" with message of "+e)})},response:function(c,b){c.find(".spinner-loader").remove();if(b.result==="success"){a(c).trigger("pumNewsletterSuccess");c.addClass("pum-newsletter-success");c.empty();c.append('<p class="pum-newsletter-success-msg">'+b.message+"</p>")}else{console.log(b.api_error_message);a(c).trigger("pumNewsletterError");c.addClass("pum-newsletter-error");c.removeClass("pum-sub-form-loading");c.find(".pum-newsletter-error-msg").text(b.message);c.find(".sub_form_button").prop("disabled",false);switch(b.error_type){case"already_subscribed":a(c).trigger("pumNewsletterErrorAlreadySubscribed");c.addClass("pum-newsletter-error-already-subscribed");break;case"empty_name_email":a(c).trigger("pumNewsletterErrorEmptyNameEmail");c.addClass("pum-newsletter-error-empty-name-email");break;case"invalid_email":a(c).trigger("pumNewsletterErrorInvalidEmail");c.addClass("pum-newsletter-error-invalid-email");break;default:a(c).trigger("pumNewsletterErrorDefault");c.addClass("pum-newsletter-error-default")}}}};a(document).ready(function(){a(".sub_form_button").on("click",function(b){b.preventDefault();PUMNewsletter.submit(a(this).closest(".pum_sub_form"))})})}(jQuery));