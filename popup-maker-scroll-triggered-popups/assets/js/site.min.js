!function(e,t,o){"use strict";function n(){return e(t).innerHeight()-o.innerHeight}function i(){return o.pageYOffset/n()}function r(){return o.innerHeight*i()}function a(e){var t=o.pageYOffset;if(void 0!==e)switch(e){case"floating":t+=r();break;case"bottom":t+=o.innerHeight}return t}e.extend(e.fn.popmake.triggers,{scroll:function(i){var r,s,p,c,g,f,l=PUM.getPopup(this),u=e(o),m=l.popmake("getSettings").id,d="scroll.pum-stp-"+m;switch(i=e.extend({trigger:"distance",trigger_point:"",distance:75,unit:"%",trigger_element:"",close_on_up:null},i),r=i.trigger_point,p=e("#scroll_pop_trigger-"+m+", .pum-stp-trigger-"+m),c=e(i.trigger_element),i.trigger){case"distance":switch(i.unit){case"px":s=i.distance;break;case"%":s=i.distance/100*e(t).innerHeight(),r="floating";break;case"rem":s=Number(getComputedStyle(t.body,"").fontSize.match(/(\d*(\.\d*)?)px/)[1])*i.distance}break;case"manual":p.length&&(s=p.offset().top);break;case"element":c.length&&(s=c.eq(0).offset().top)}s&&(s>=n()&&(!r||void 0===r)&&(r="bottom"),g=function(){return l.hasClass("pum-open")||l.popmake("getContainer").hasClass("active")?void u.off(d):l.popmake("checkCookies",i)?void u.off(d):void(a(r)>=s&&(u.off(d),e.fn.popmake.last_open_trigger="Scroll Pop - Trigger: "+i.trigger,l.popmake("open",function(){i.close_on_up&&u.on(d,f),l.off("popmakeBeforeOpen.analytics")})))},f=function(){return l.hasClass("pum-open")||l.popmake("getContainer").hasClass("active")?void(a(r)<s&&(u.off(d),u.on(d,g),e.fn.popmake.last_close_trigger="Scroll Up",l.popmake("close"),l.off("popmakeBeforeClose.analytics"))):void u.off(d)},u.on(d,g))}})}(jQuery,document,window);