!function(e){"use strict";function r(e){var r,n=!0;try{r=new RegExp(e)}catch(t){n=!1}return n?r:(alert("Invalid regular expression"),!1)}function n(){var e,r=navigator.userAgent,n=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(r)||[],{name:"IE",version:e[1]||""}):"Chrome"===n[1]&&(e=r.match(/\bOPR\/(\d+)/),null!==e)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=r.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function t(r){function n(e){return decodeURIComponent(e)}var t={},o=r||document.location.search;if(""===o)return t;for(o=o.replace(/(^\?)/,"").replace(/;/g,"&");o.indexOf("&&")!=-1;)o=o.replace(/&&/g,"&");o=o.replace(/([\&]+$)/,""),o=o.split("&");for(var i=0;i<o.length;i++){var a=o[i].split("=");if(a=e.map(a,n),void 0!==t[a[0]])if("string"==typeof t[a[0]]){var s=t[a[0]];""===a[1]&&(a[1]=null),t[a[0]]=[],t[a[0]].push(s),t[a[0]].push(a[1])}else"object"==typeof t[a[0]]&&(""===a[1]&&(a[1]=null),t[a[0]].push(a[1]));else""===a[1]&&(a[1]=null),t[a[0]]=a[1]}return t}var o,i=document.referrer,a=document.location.toString(),s=new MobileDetect(window.navigator.userAgent);o=t(),e.extend(e.fn.popmake.conditions,{url_is:function(e){var r=e.search||!1,n=new RegExp("^"+r+"$")||!1;return!r||n.test(a)},url_contains:function(e){var r=e.search||!1,n=new RegExp(r)||!1;return!r||n.test(a)},url_begins_with:function(e){var r=e.search||!1,n=new RegExp("^"+r);return!r||n.test(a)},url_ends_with:function(e){var r=e.search||!1,n=new RegExp(r+"$");return!r||n.test(a)},url_regex:function(e){var n=e.search||!1,t=r(n);return!n||!!t&&t.test(a)},query_arg_exists:function(e){var r=e.arg_name||!1;return!!r&&"undefined"!=typeof o[r]},query_arg_is:function(e){var r=e.arg_name||!1,n=e.arg_value||!1;return!!r&&("undefined"!=typeof o[r]&&o[r]==n)},browser_is:function(e){var r,t=e.selected||[];for(r=0;t.length>r;r++)if(t[r]===n().name)return!0;return!1},browser_version:function(e){var r=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1,o=parseFloat(n().version);return r&&!t?o>r:t&&!r?t>o:!(!t||!r)&&(t>o&&o>r)},browser_width:function(e){var r=window.innerWidth,n=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1;return n&&!t?r>n:t&&!n?t>r:t&&n?t>r&&r>n:!t&&!n},browser_height:function(e){var r=window.innerHeight,n=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1;return n&&!t?r>n:t&&!n?t>r:t&&n?t>r&&r>n:!t&&!n},device_is_mobile:function(e){return s.mobile()},device_is_phone:function(e){return s.phone()},device_is_tablet:function(e){return s.tablet()},device_is_brand:function(e){var r,n=e.selected||[];for(r=0;n.length>r;r++)if(s.is(n[r]))return!0;return!1},device_screen_width:function(e){var r=window.screen.width,n=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1;return n&&!t?r>n:t&&!n?t>r:t&&n?t>r&&r>n:!t&&!n},device_screen_height:function(e){var r=window.screen.height,n=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1;return n&&!t?r>n:t&&!n?t>r:t&&n?t>r&&r>n:!t&&!n},referrer_is:function(e){var r=e.search||!1,n=new RegExp("^"+r+"$")||!1;return!r||n.test(i)},referrer_contains:function(e){var r=e.search||!1,n=new RegExp(r)||!1;return!r||n.test(i)},referrer_begins_with:function(e){var r=e.search||!1,n=new RegExp("^"+r);return!r||n.test(i)},referrer_ends_with:function(e){var r=e.search||!1,n=new RegExp(r+"$");return!r||n.test(i)},referrer_regex:function(e){var n=e.search||!1,t=r(n);return!n||!!t&&t.test(i)},referrer_is_search_engine:function(e){var n,t=e.search||[];return"string"!=typeof t&&(t=t.join("|")),n=r(t),n.test(i)},referrer_is_external:function(e){return""!==i&&i.indexOf(location.protocol+"//"+location.host)===-1},cookie_exists:function(r){var n=r.cookie_name||!1;return!!n&&void 0!==e.fn.popmake.cookie.process(n)},cookie_is:function(r){var n=r.cookie_name||!1,t=r.cookie_value||!1;return!!n&&(void 0!==e.fn.popmake.cookie.process(n)&&e.fn.popmake.cookie.process(n)==t)},js_function:function(e){return void 0!==e.function_name&&"function"==typeof window[e.function_name]&&window[e.function_name]()}})}(jQuery);