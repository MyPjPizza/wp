!function(e,r,o){"use strict";e.fn.popmake.triggers.click_block===o&&(e.fn.popmake.blocked_trigger=null,pum.hooks.addAction("pum.triggers.click_block.reclick",function(){e.fn.popmake.blocked_trigger.data("reclick",!1),e.fn.popmake.blocked_trigger.get(0).click()}),e.fn.popmake.triggers.click_block=function(s){var i,t=PUM.getPopup(this),a=t.popmake("getSettings"),n=[".popmake-"+a.id,".popmake-"+decodeURIComponent(a.slug),'a[href$="#popmake-'+a.id+'"]'];s.extra_selectors&&""!==s.extra_selectors&&n.push(s.extra_selectors),n=pum.hooks.applyFilters("pum.trigger.click_block.selectors",n,s),i=n.join(", "),e(i).addClass("pum-trigger").css({cursor:"pointer"}),e(r).off("click.pumTrigger",i).on("click.pum.block_action",i,function(r){var i=e(this),a=!0;if(!(t.has(i).length>0)&&s.requirements!==o){for(var n in s.requirements)pum.hooks.applyFilters("pum.trigger.click_block.allowed."+n,!0,s,t)||(a=!1);return!!a||void(a||t.popmake("checkCookies",s)||!t.popmake("checkConditions")||(r.stopPropagation(),r.preventDefault(),e.fn.popmake.last_open_trigger=i,e.fn.popmake.blocked_trigger=i,t.popmake("open")))}})},e(r).on("pumAfterClose",".pum",function(){e.fn.popmake.blocked_trigger&&e.fn.popmake.blocked_trigger.data("reclick")&&pum.hooks.doAction("pum.triggers.click_block.reclick"),e.fn.popmake.blocked_trigger=null}))}(jQuery,document),function(e){"use strict";e.extend(e.fn.popmake.cookies,{login_successful:function(e){var r=PUM.getPopup(this);r.find(".pum-alm-form").on("login.success",function(){r.popmake("setCookie",e)})},registration_successful:function(e){var r=PUM.getPopup(this);r.find(".pum-alm-form").on("registration.success",function(){r.popmake("setCookie",e)})}})}(jQuery),function(e,r,o){"use strict";var s={login:'a[href$="/wp-login.php"]',registration:'a[href$="/wp-login.php?action=register"]',recovery:'a[href$="/wp-login.php?action=lostpassword"]'},i=function(e,r,o){var s=e.find(".pum-login-form-wrapper"),i=e.find(".pum-registration-form-wrapper"),t=e.find(".pum-recovery-form-wrapper");switch(o=o||"fast",r){default:case"login":s.slideDown(o),i.slideUp(o),t.slideUp(o);break;case"registration":s.slideUp(o),i.slideDown(o),t.slideUp(o);break;case"recovery":s.slideUp(o),i.slideUp(o),t.slideDown(o)}},t=function(r){var o=e(),s=PUM.getPopup(this),t=s.find(".pum-login-form-wrapper"),a=s.find(".pum-registration-form-wrapper"),n=s.find(".pum-recovery-form-wrapper"),p=0;try{o=e(e.fn.popmake.last_open_trigger)}catch(l){console.log("1")}t.length&&p++,a.length&&p++,n.length&&p++,p>1&&(o.length&&o.attr("href")?o.is('a[href$="/wp-login.php?action=register"]')||o.hasClass("popswitch-registration")||o.find(".popswitch-registration").length?i(s,"registration",0):o.is('a[href$="/wp-login.php?action=lostpassword"]')||o.hasClass("popswitch-recovery")||o.find(".popswitch-recovery").length?i(s,"recovery",0):i(s,"login",0):i(s,"login",0))};e(".pum").on("pumInit",function(e){var r=PUM.getPopup(this),o=r.find(".pum-login-form-wrapper"),a=r.find(".pum-registration-form-wrapper"),n=r.find(".pum-recovery-form-wrapper");r.find(".pum-alm-form").length&&(o.length&&r.find(s.login).on("click",function(e){i(r,"login","slow"),e.preventDefault()}),a.length&&r.find(s.registration).on("click",function(e){i(r,"registration","slow"),e.preventDefault()}),n.length&&r.find(s.recovery).on("click",function(e){i(r,"recovery","slow"),e.preventDefault()}),r.on("pumBeforeOpen",t))}),pum.hooks.addFilter("pum.trigger.click_open.selectors",function(r,o,i){var t=e.extend({login:!1,registration:!1,recovery:!1},o.login_links);return t.login&&r.push(s.login),t.registration&&r.push(s.registration),t.recovery&&r.push(s.recovery),r}),pum.hooks.addFilter("pum.trigger.click_block.allowed.login",function(e,r,o){return pum_alm_vars.is_logged_in}),pum.hooks.addAction("pum_alm.form.success",function(r,s){e.fn.popmake.blocked_trigger&&(r.user!==o&&r.user.ID>0&&(pum_alm_vars.is_logged_in=!0),e.fn.popmake.blocked_trigger.data("reclick",!0))}),e.extend(e.fn.popmake.triggers,{force_login:function(r){var o=PUM.getPopup(this);pum_alm_vars.is_logged_in||o.hasClass("pum-open")||o.popmake("getContainer").hasClass("active")||!o.popmake("checkCookies",r)&&o.popmake("checkConditions")&&(e.fn.popmake.last_open_trigger="Forced Login",o.popmake("open"))}})}(jQuery,document);var PUM_ALM;!function(e,r,o){"use strict";var s=e(r),i=pum_alm_vars.I10n.errors;"function"!=typeof e.fn.pumSerializeObject&&(e.fn.pumSerializeObject=function(){var r={},s=this.serializeArray();return e.each(s,function(){r[this.name]!==o?(r[this.name].push||(r[this.name]=[r[this.name]]),r[this.name].push(this.value||"")):r[this.name]=this.value||""}),r}),PUM_ALM={validate:function(e,r,o){this.validation.form=o,this.validation.values=r,this.validation.which=e,this.validation.errors.length&&(this.validation.errors=[]),"function"==typeof this.validation[e]?this.validation[e](r,o):this.validation.errors.push(i.invalid_form),s.trigger("pum_alm_"+e+"_validation",[this.validation])},validation:{form:null,errors:[],login:function(e){e.log!==o&&""!==e.log||this.errors.push(i.empty_login),e.pwd!==o&&""!==e.pwd||this.errors.push(i.empty_password)},registration:function(e){e.user_login!==o&&""!==e.user_login||this.errors.push(i.empty_username),e.user_email!==o&&""!==e.user_email||this.errors.push(i.empty_email),/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e.user_email)||this.errors.push(i.invalid_email),e.user_email2!==o&&(""===e.user_email2?this.errors.push(i.empty_confirm_email):e.user_email!==e.user_email2&&this.errors.push(i.mismatch_confirm_email)),e.user_pass!==o&&""!==e.user_pass||this.errors.push(i.empty_password),e.user_pass2!==o&&(""===e.user_pass2?this.errors.push(i.empty_confirm_password):e.user_pass!==e.user_pass2&&this.errors.push(i.mismatch_confirm_password)),e["g-recaptcha-response"]!==o&&""===e["g-recaptcha-response"]&&this.errors.push(i.must_complete_recaptcha)},recovery:function(e){e.user_login!==o&&""!==e.user_login||this.errors.push(i.empty_login)}},clear_messages:function(r,o){var s=r.find(".messages"),i=s.find(".message");o=o||!1,s.length&&i.slideUp("fast",function(){e(this).remove(),o&&s.hide()})},add_message:function(r,o,s){var i=e('<p class="message">').html(o);s=s||"success",i.addClass(s),r.append(i),r.is(":visible")&&i.hide().slideDown()},add_messages:function(r,o,s){var i=r.find(".messages"),t=0;if(!i.length)switch(i=e('<div class="messages">').hide(),pum_alm_vars.message_position){case"bottom":r.append(i.addClass("bottom"));break;case"top":r.prepend(i.addClass("top"))}for(s=s||"success",o=o||[];o.length>t;t++)this.add_message(i,o[t],s);i.is(":hidden")&&i.slideDown()},handler:function(r,s){var i=s.data||{},t=r.attr("name")?r.attr("name").replace("pum-","").replace("-form",""):"registration",a=r.parent();if(i.form!==o&&(a.find("form, #wppb_general_top_error_message").replaceWith(i.form),r=a.find("form").eq(0),a.data("form_args")&&r.append(e('<input type="hidden" name="_form_args" />').val(a.data("form_args")))),s.success){i.message!==o&&""!==i.message&&PUM_ALM.add_messages(r,[i.message]),r.trigger(t+".success",[i]),pum.hooks.doAction("pum_alm."+t+".success",i,r),pum.hooks.doAction("pum_alm.form.success",i,r);var n=function(){i.redirect!==o&&i.redirect&&(""!==i.redirect?window.location=i.redirect:window.location.reload(!0))};a.data("autoclose")?setTimeout(function(){PUM.getPopup(a).popmake("close",n)},a.data("autoclose-delay")):n()}else i.errors!==o&&i.errors.length&&PUM_ALM.display_errors(r,i.errors),r.trigger(t+".errors"),pum.hooks.doAction("pum_alm."+t+".errors",i,r),pum.hooks.doAction("pum_alm.form.errors",i,r)},display_errors:function(e,r){var o,s=0;for(console.log(r),r=r||this.validation.errors,PUM_ALM.add_messages(e,r,"error");r.length>s;s++)o=r[s]},add_field_messages:function(r){if(results.field!==o){var s=e('[name="'+results.field+'"]',r)||null;s.length&&e("html, body").animate({scrollTop:s.offset().top-100},1e3,function(){s.addClass("error").focus(),message.insertAfter(s)})}}},e(r).on("pumInit",".pum",function(){var r=PUM.getPopup(this),o=r.find(".pum-alm-form-wrapper");o.each(function(){var r=e(this),o=r.find("[data-moveme]"),s=r.find("form");o.length&&!s.has(o).length&&(r.data("form_args",o.val()),s.append(o))})}).on("submit",".pum-alm-form-wrapper form",function(r){var o=e(this),s=PUM.getPopup(o),i=o.find('[type="submit"]'),t=i.find(".loader"),a=o.attr("name")?o.attr("name").replace("pum-","").replace("-form",""):"registration",n=o.pumSerializeObject(),p=e.extend({},n,{action:"pum_alm_form",which:a});s.length&&(p.popup_id=s.popmake("getSettings").id),r.preventDefault(),o.hasClass("pum-alm-form")?(PUM_ALM.clear_messages(o),PUM_ALM.validate(a,n,o)):PUM_ALM.validation.errors=[],PUM_ALM.validation.errors.length?PUM_ALM.display_errors(o):(t.length||(t=e('<span class="loader"></span>'),""!==i.attr("value")?t.insertAfter(i):i.append(t)),i.prop("disabled",!0),t.show(),e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:p}).always(function(){i.prop("disabled",!1),t.hide()}).done(function(e){PUM_ALM.handler(o,e)}).error(function(e,r,o){alert(errors.unknown+" "+o)}))})}(jQuery,document);